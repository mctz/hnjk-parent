/*
  Plugin: iframe autoheight jQuery Plugin
  Version: 1.9.0
  Description: when the page loads set the height of an iframe based on the height of its contents
  see README: http://github.com/house9/jquery-iframe-auto-height 
*/
(function(a){a.fn.iframeAutoHeight=function(c){var d=a.extend({heightOffset:0,minHeight:0,callback:function(f){},animate:false,debug:false,diagnostics:false,resetToMinHeight:false,triggerFunctions:[],heightCalculationOverrides:[]},c);function b(f){if(d.debug&&d.debug===true&&window.console){console.log(f)}}function e(h,g){b("Diagnostics from '"+g+"'");try{b("  "+a(h,window.top.document).contents().find("body")[0].scrollHeight+" for ...find('body')[0].scrollHeight");b("  "+a(h.contentWindow.document).height()+" for ...contentWindow.document).height()");b("  "+a(h.contentWindow.document.body).height()+" for ...contentWindow.document.body).height()")}catch(f){b("  unable to check in this state")}b("End diagnostics -> results vary by browser and when diagnostics are requested")}b(d);return this.each(function(){var k=["webkit","mozilla","msie","opera"];var j=[];j["default"]=function(t,s,o,n){var r=s[0].scrollHeight;try{var q=a(t.contentWindow.document).height();r=Math.max(r,q);var i=a(t.contentWindow.document.body).height();r=Math.max(r,i)}catch(p){r=s[0].scrollHeight}return r+o.heightOffset};jQuery.each(k,function(i,n){j[n]=j["default"]});jQuery.each(d.heightCalculationOverrides,function(i,n){j[n.browser]=n.calculation});function l(i){var n=null;jQuery.each(k,function(o,p){if(i[p]){n=j[p];return false}});if(n===null){n=j["default"]}return n}var g=0;function m(n){if(d.diagnostics){e(n,"resizeHeight")}if(d.resetToMinHeight&&d.resetToMinHeight===true){n.style.height=d.minHeight+"px"}var o=a(n,window.top.document).contents().find("body");var p=l(a.browser);var i=p(n,o,d,a.browser);b(i);if(i<d.minHeight){b("new height is less than minHeight");i=d.minHeight+d.heightOffset}b("New Height: "+i);if(d.animate){a(n).animate({height:i+"px"},{duration:500})}else{n.style.height=i+"px"}d.callback.apply(a(n),[{newFrameHeight:i}])}b(this);if(d.diagnostics){e(this,"each iframe")}if(d.triggerFunctions.length>0){b(d.triggerFunctions.length+" trigger Functions");for(var f=0;f<d.triggerFunctions.length;f++){d.triggerFunctions[f](m,this)}}if(a.browser.webkit||a.browser.opera){b("browser is webkit or opera");a(this).load(function(){var i=0;var n=this;var o=function(){m(n)};if(g===0){i=500}else{n.style.height=d.minHeight+"px"}b("load delay: "+i);setTimeout(o,i);g++});var h=a(this).attr("src");a(this).attr("src","");a(this).attr("src",h)}else{b("browser is ie or other ");a(this).load(function(){m(this)})}})}}(jQuery));